<!DOCTYPE html >
<html lang="en">
<head>
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta charset="utf-8" />
</head>

<body style="margin: 0;">

<div id="p23" style="overflow: hidden; position: relative; background-color: white; width: 909px; height: 1286px;">

<!-- Begin shared CSS values -->
<style class="shared-css" type="text/css" >
.t {
	-webkit-transform-origin: bottom left;
	-ms-transform-origin: bottom left;
	transform-origin: bottom left;
	-webkit-transform: scale(0.25);
	-ms-transform: scale(0.25);
	transform: scale(0.25);
	z-index: 2;
	position: absolute;
	white-space: pre;
	overflow: visible;
}
</style>
<!-- End shared CSS values -->


<!-- Begin inline CSS -->
<style type="text/css" >

#t1_23{left:271px;bottom:1100px;letter-spacing:-0.4px;word-spacing:8.4px;}
#t2_23{left:716px;bottom:1100px;}
#t3_23{left:208px;bottom:1051px;word-spacing:16.7px;}
#t4_23{left:208px;bottom:1034px;}
#t5_23{left:256px;bottom:1034px;}
#t6_23{left:272px;bottom:1034px;}
#t7_23{left:296px;bottom:1034px;}
#t8_23{left:304px;bottom:1034px;}
#t9_23{left:208px;bottom:1018px;}
#ta_23{left:296px;bottom:1018px;}
#tb_23{left:320px;bottom:1018px;word-spacing:16.7px;}
#tc_23{left:336px;bottom:1001px;}
#td_23{left:384px;bottom:1001px;}
#te_23{left:392px;bottom:1001px;word-spacing:16.7px;}
#tf_23{left:464px;bottom:1001px;}
#tg_23{left:488px;bottom:1001px;}
#th_23{left:496px;bottom:1001px;}
#ti_23{left:552px;bottom:1001px;}
#tj_23{left:560px;bottom:1001px;}
#tk_23{left:584px;bottom:1001px;}
#tl_23{left:592px;bottom:1001px;}
#tm_23{left:208px;bottom:984px;}
#tn_23{left:264px;bottom:984px;}
#to_23{left:183px;bottom:927px;word-spacing:3.3px;}
#tp_23{left:350px;bottom:927px;}
#tq_23{left:383px;bottom:927px;}
#tr_23{left:440px;bottom:927px;word-spacing:3.4px;}
#ts_23{left:183px;bottom:906px;letter-spacing:-0.5px;}
#tt_23{left:226px;bottom:906px;}
#tu_23{left:267px;bottom:906px;}
#tv_23{left:311px;bottom:906px;word-spacing:3.7px;}
#tw_23{left:390px;bottom:906px;}
#tx_23{left:422px;bottom:906px;}
#ty_23{left:475px;bottom:906px;word-spacing:3.5px;}
#tz_23{left:183px;bottom:885px;letter-spacing:-0.2px;word-spacing:5.9px;}
#t10_23{left:200px;bottom:863px;letter-spacing:-0.3px;word-spacing:7.4px;}
#t11_23{left:183px;bottom:841px;word-spacing:6.4px;}
#t12_23{left:183px;bottom:820px;letter-spacing:-0.1px;word-spacing:0.9px;}
#t13_23{left:183px;bottom:799px;letter-spacing:-0.1px;word-spacing:5.7px;}
#t14_23{left:192px;bottom:754px;}
#t15_23{left:224px;bottom:754px;}
#t16_23{left:296px;bottom:754px;}
#t17_23{left:208px;bottom:737px;}
#t18_23{left:208px;bottom:720px;word-spacing:16.7px;}
#t19_23{left:208px;bottom:704px;}
#t1a_23{left:208px;bottom:687px;word-spacing:16.7px;}
#t1b_23{left:336px;bottom:687px;}
#t1c_23{left:352px;bottom:687px;}
#t1d_23{left:408px;bottom:687px;}
#t1e_23{left:416px;bottom:687px;word-spacing:16.7px;}
#t1f_23{left:496px;bottom:687px;}
#t1g_23{left:504px;bottom:687px;word-spacing:16.7px;}
#t1h_23{left:584px;bottom:687px;}
#t1i_23{left:592px;bottom:687px;word-spacing:16.7px;}
#t1j_23{left:672px;bottom:687px;}
#t1k_23{left:680px;bottom:687px;}
#t1l_23{left:208px;bottom:653px;word-spacing:16.7px;}
#t1m_23{left:208px;bottom:637px;}
#t1n_23{left:232px;bottom:637px;}
#t1o_23{left:248px;bottom:637px;word-spacing:16.7px;}
#t1p_23{left:312px;bottom:637px;}
#t1q_23{left:336px;bottom:637px;}
#t1r_23{left:352px;bottom:637px;word-spacing:16.7px;}
#t1s_23{left:400px;bottom:637px;}
#t1t_23{left:224px;bottom:620px;}
#t1u_23{left:280px;bottom:620px;}
#t1v_23{left:288px;bottom:620px;}
#t1w_23{left:304px;bottom:620px;}
#t1x_23{left:312px;bottom:620px;}
#t1y_23{left:208px;bottom:603px;}
#t1z_23{left:232px;bottom:603px;}
#t20_23{left:248px;bottom:603px;word-spacing:16.7px;}
#t21_23{left:288px;bottom:603px;}
#t22_23{left:312px;bottom:603px;}
#t23_23{left:328px;bottom:603px;word-spacing:16.7px;}
#t24_23{left:368px;bottom:603px;}
#t25_23{left:224px;bottom:586px;}
#t26_23{left:280px;bottom:586px;}
#t27_23{left:288px;bottom:586px;}
#t28_23{left:304px;bottom:586px;}
#t29_23{left:312px;bottom:586px;}
#t2a_23{left:208px;bottom:570px;}
#t2b_23{left:232px;bottom:570px;}
#t2c_23{left:256px;bottom:570px;}
#t2d_23{left:272px;bottom:570px;}
#t2e_23{left:320px;bottom:570px;}
#t2f_23{left:344px;bottom:570px;}
#t2g_23{left:368px;bottom:570px;}
#t2h_23{left:384px;bottom:570px;}
#t2i_23{left:224px;bottom:553px;}
#t2j_23{left:280px;bottom:553px;}
#t2k_23{left:288px;bottom:553px;}
#t2l_23{left:304px;bottom:553px;}
#t2m_23{left:312px;bottom:553px;}
#t2n_23{left:208px;bottom:536px;}
#t2o_23{left:232px;bottom:536px;}
#t2p_23{left:280px;bottom:536px;word-spacing:16.7px;}
#t2q_23{left:320px;bottom:536px;}
#t2r_23{left:344px;bottom:536px;}
#t2s_23{left:392px;bottom:536px;}
#t2t_23{left:408px;bottom:536px;}
#t2u_23{left:224px;bottom:519px;}
#t2v_23{left:280px;bottom:519px;}
#t2w_23{left:288px;bottom:519px;}
#t2x_23{left:304px;bottom:519px;}
#t2y_23{left:312px;bottom:519px;}
#t2z_23{left:208px;bottom:486px;}
#t30_23{left:264px;bottom:486px;}
#t31_23{left:200px;bottom:429px;letter-spacing:-0.2px;word-spacing:10.3px;}
#t32_23{left:183px;bottom:408px;letter-spacing:-0.1px;word-spacing:7.3px;}
#t33_23{left:572px;bottom:408px;}
#t34_23{left:622px;bottom:408px;word-spacing:7.1px;}
#t35_23{left:183px;bottom:386px;word-spacing:10.4px;}
#t36_23{left:183px;bottom:365px;letter-spacing:-0.2px;word-spacing:8.9px;}
#t37_23{left:183px;bottom:344px;letter-spacing:-0.2px;word-spacing:9.1px;}
#t38_23{left:183px;bottom:322px;word-spacing:8.5px;}
#t39_23{left:183px;bottom:301px;letter-spacing:-0.1px;word-spacing:3.5px;}
#t3a_23{left:183px;bottom:280px;letter-spacing:-0.1px;word-spacing:8.2px;}
#t3b_23{left:200px;bottom:258px;word-spacing:2.1px;}
#t3c_23{left:183px;bottom:237px;word-spacing:10.1px;}
#t3d_23{left:313px;bottom:237px;letter-spacing:-0.1px;word-spacing:10.3px;}

.s1_23{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: CMTI10_6;
	color: rgb(0,0,0);
}

.s2_23{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: CMR10_7;
	color: rgb(0,0,0);
}

.s3_23{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: CMITT10_68;
	color: rgb(64,128,128);
}

.s4_23{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: CMTT10_1b;
	color: rgb(0,0,0);
}

.s5_23{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: CMTT10_1b;
	color: rgb(102,102,102);
}

.s6_23{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: CMTT10_1b;
	color: rgb(0,128,0);
}

.s7_23{
	FONT-SIZE: 66.7px;
	FONT-FAMILY: CMR10_7;
	color: rgb(0,0,0);
}

.s8_23{
	FONT-SIZE: 66.7px;
	FONT-FAMILY: CMTT10_1b;
	color: rgb(0,0,0);
}

.s9_23{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: CMTT10_1b;
	color: rgb(0,0,255);
}

.s10_23{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: CMITT10_68;
	color: rgb(186,33,33);
}

.s11_23{
	FONT-SIZE: 60.9px;
	FONT-FAMILY: CMTT10_1b;
	color: rgb(171,33,255);
}

</style>
<!-- End inline CSS -->

<!-- Begin embedded font definitions -->
<style id="fonts23" type="text/css" >

@font-face {
	font-family: CMITT10_68;
	src: url("fonts/CMITT10_68.woff") format("woff");
}

@font-face {
	font-family: CMR10_7;
	src: url("fonts/CMR10_7.woff") format("woff");
}

@font-face {
	font-family: CMTI10_6;
	src: url("fonts/CMTI10_6.woff") format("woff");
}

@font-face {
	font-family: CMTT10_1b;
	src: url("fonts/CMTT10_1b.woff") format("woff");
}

</style>
<!-- End embedded font definitions -->

<!-- Begin page background -->
<div id="pg23Overlay" style="width:100%; height:100%; position:absolute; z-index:1; background-color:rgba(0,0,0,0); -webkit-user-select: none;"></div>
<div id="pg23" style="-webkit-user-select: none;"><object width="909" height="1286" data="23/23.svg" type="image/svg+xml" id="pdf23" style="width:909px; height:1286px; -moz-transform:scale(1); z-index: 0;"></object></div>
<!-- End page background -->


<!-- Begin text definitions (Positioned/styled in CSS) -->
<div id="t1_23" class="t s1_23">Bayesian inference and computation: a beginner’s guide</div>
<div id="t2_23" class="t s2_23">19</div>
<div id="t3_23" class="t s3_23"># Which one should we change?</div>
<div id="t4_23" class="t s4_23">which</div>
<div id="t5_23" class="t s5_23">=</div>
<div id="t6_23" class="t s4_23">rng</div>
<div id="t7_23" class="t s5_23">.</div>
<div id="t8_23" class="t s4_23">randint(num_params)</div>
<div id="t9_23" class="t s4_23">new[which]</div>
<div id="ta_23" class="t s5_23">+=</div>
<div id="tb_23" class="t s4_23">jump_sizes[which] \</div>
<div id="tc_23" class="t s5_23">*10.**</div>
<div id="td_23" class="t s4_23">(</div>
<div id="te_23" class="t s5_23">1.5 - 6.*</div>
<div id="tf_23" class="t s4_23">rng</div>
<div id="tg_23" class="t s5_23">.</div>
<div id="th_23" class="t s4_23">rand())</div>
<div id="ti_23" class="t s5_23">*</div>
<div id="tj_23" class="t s4_23">rng</div>
<div id="tk_23" class="t s5_23">.</div>
<div id="tl_23" class="t s4_23">randn()</div>
<div id="tm_23" class="t s6_23">return</div>
<div id="tn_23" class="t s4_23">new</div>
<div id="to_23" class="t s7_23">This function relies on</div>
<div id="tp_23" class="t s8_23">num</div>
<div id="tq_23" class="t s8_23">params</div>
<div id="tr_23" class="t s7_23">being the number of parameters, and an</div>
<div id="ts_23" class="t s7_23">array</div>
<div id="tt_23" class="t s8_23">jump</div>
<div id="tu_23" class="t s8_23">sizes</div>
<div id="tv_23" class="t s7_23">, of length</div>
<div id="tw_23" class="t s8_23">num</div>
<div id="tx_23" class="t s8_23">params</div>
<div id="ty_23" class="t s7_23">, which speciﬁes the prior width for</div>
<div id="tz_23" class="t s7_23">each parameter.</div>
<div id="t10_23" class="t s7_23">For numerical reasons, instead of writing a function to evaluate the like-</div>
<div id="t11_23" class="t s7_23">lihood (and the prior density) at a particular point in parameter space, we</div>
<div id="t12_23" class="t s7_23">usually deal with the logarithms of these quantities. For the transit example,</div>
<div id="t13_23" class="t s7_23">the log prior function can be implemented like so:</div>
<div id="t14_23" class="t s6_23">def</div>
<div id="t15_23" class="t s9_23">log_prior</div>
<div id="t16_23" class="t s4_23">(params):</div>
<div id="t17_23" class="t s10_23">"""</div>
<div id="t18_23" class="t s10_23">Evaluate the (log of the) prior distribution</div>
<div id="t19_23" class="t s10_23">"""</div>
<div id="t1a_23" class="t s4_23">A, b, tc, width</div>
<div id="t1b_23" class="t s5_23">=</div>
<div id="t1c_23" class="t s4_23">params[</div>
<div id="t1d_23" class="t s5_23">0</div>
<div id="t1e_23" class="t s4_23">], params[</div>
<div id="t1f_23" class="t s5_23">1</div>
<div id="t1g_23" class="t s4_23">], params[</div>
<div id="t1h_23" class="t s5_23">2</div>
<div id="t1i_23" class="t s4_23">], params[</div>
<div id="t1j_23" class="t s5_23">3</div>
<div id="t1k_23" class="t s4_23">]</div>
<div id="t1l_23" class="t s3_23"># Minus infinity, if out of bounds</div>
<div id="t1m_23" class="t s6_23">if</div>
<div id="t1n_23" class="t s4_23">A</div>
<div id="t1o_23" class="t s5_23">&lt; -100.</div>
<div id="t1p_23" class="t s11_23">or</div>
<div id="t1q_23" class="t s4_23">A</div>
<div id="t1r_23" class="t s5_23">&gt; 100.</div>
<div id="t1s_23" class="t s4_23">:</div>
<div id="t1t_23" class="t s6_23">return</div>
<div id="t1u_23" class="t s5_23">-</div>
<div id="t1v_23" class="t s4_23">np</div>
<div id="t1w_23" class="t s5_23">.</div>
<div id="t1x_23" class="t s4_23">Inf</div>
<div id="t1y_23" class="t s6_23">if</div>
<div id="t1z_23" class="t s4_23">b</div>
<div id="t20_23" class="t s5_23">&lt; 0.</div>
<div id="t21_23" class="t s11_23">or</div>
<div id="t22_23" class="t s4_23">b</div>
<div id="t23_23" class="t s5_23">&gt; 10.</div>
<div id="t24_23" class="t s4_23">:</div>
<div id="t25_23" class="t s6_23">return</div>
<div id="t26_23" class="t s5_23">-</div>
<div id="t27_23" class="t s4_23">np</div>
<div id="t28_23" class="t s5_23">.</div>
<div id="t29_23" class="t s4_23">Inf</div>
<div id="t2a_23" class="t s6_23">if</div>
<div id="t2b_23" class="t s4_23">tc</div>
<div id="t2c_23" class="t s5_23">&lt;</div>
<div id="t2d_23" class="t s4_23">t_min</div>
<div id="t2e_23" class="t s11_23">or</div>
<div id="t2f_23" class="t s4_23">tc</div>
<div id="t2g_23" class="t s5_23">&gt;</div>
<div id="t2h_23" class="t s4_23">t_max:</div>
<div id="t2i_23" class="t s6_23">return</div>
<div id="t2j_23" class="t s5_23">-</div>
<div id="t2k_23" class="t s4_23">np</div>
<div id="t2l_23" class="t s5_23">.</div>
<div id="t2m_23" class="t s4_23">Inf</div>
<div id="t2n_23" class="t s6_23">if</div>
<div id="t2o_23" class="t s4_23">width</div>
<div id="t2p_23" class="t s5_23">&lt; 0.</div>
<div id="t2q_23" class="t s11_23">or</div>
<div id="t2r_23" class="t s4_23">width</div>
<div id="t2s_23" class="t s5_23">&gt;</div>
<div id="t2t_23" class="t s4_23">t_range:</div>
<div id="t2u_23" class="t s6_23">return</div>
<div id="t2v_23" class="t s5_23">-</div>
<div id="t2w_23" class="t s4_23">np</div>
<div id="t2x_23" class="t s5_23">.</div>
<div id="t2y_23" class="t s4_23">Inf</div>
<div id="t2z_23" class="t s6_23">return</div>
<div id="t30_23" class="t s5_23">0.</div>
<div id="t31_23" class="t s7_23">Since we chose uniform priors, the prior density is some constant if the</div>
<div id="t32_23" class="t s7_23">parameters (here passed to the function as a numpy</div>
<div id="t33_23" class="t s8_23">array</div>
<div id="t34_23" class="t s7_23">of four ﬂoating</div>
<div id="t35_23" class="t s7_23">point values) are within the bounds of the uniform priors. Otherwise, the</div>
<div id="t36_23" class="t s7_23">prior density is zero. We do not need to know the normalising constant of</div>
<div id="t37_23" class="t s7_23">the prior density: we returned zero for the log-density, but the progress of</div>
<div id="t38_23" class="t s7_23">the Metropolis algorithm would be the same if we had returned any other</div>
<div id="t39_23" class="t s7_23">ﬁnite value, since the Metropolis algorithm only ever uses ratios of densities</div>
<div id="t3a_23" class="t s7_23">(i.e. diﬀerences in log-density).</div>
<div id="t3b_23" class="t s7_23">The log likelihood function is given below. This implements the logarithm</div>
<div id="t3c_23" class="t s7_23">of Equation 1.5.</div>
<div id="t3d_23" class="t s7_23">As with the log prior function, we could ignore the nor-</div>

<!-- End text definitions -->


</div>
</body>
</html>
